<!DOCTYPE html>
<html>
<head>
    <title>Game screens sample</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #fff;
        }

    </style>

    <script src="./js/phaser.js"></script>
    <script src="./js/phaser-compat-2.4.js"></script>
    <script src="./js/EZGUI.js"></script>
    <script src="./item-data.js"></script>
	<script src="./app-gui.js"></script>

</head>
<body>
    <script>
        var gameWidth = 400;
        var gameHeight = 640;
		

        // UI
		var mainUIScreen;
		
        function setupGUI() {

            for (var i in EZGUI.components){
                //console.log(i);
            }

            console.log(EZGUI.components.listQuest, EZGUI.components.listQuest.container);
            //EZGUI.components.listQuest.container.height += 10.5;
            //EZGUI.components.listQuest.container.scale.y -= 0.5;
            
            EZGUI.components.listQuestBtn1.on('click', function (){
                var item1 = listQuestJSON.data[0];
                item1.itemLevel += 1;
                EZGUI.components.listQuestLbl1.text = item1.itemName + ' 레벨' + (item1.itemLevel + 1).toString();
            });
            
            /* footer menu toggle */
            EZGUI.components.footerMenuQuestBtn.on('click', function(){
                EZGUI.components.listQuest.visible = true;
                EZGUI.components.listWeapon.visible = false;
                EZGUI.components.listTreasure.visible = false;
                EZGUI.components.listPet.visible = false;
                EZGUI.components.listItem.visible = false;
                EZGUI.components.listGem.visible = false;
            });
            EZGUI.components.footerMenuWeaponBtn.on('click', function(){
                EZGUI.components.listQuest.visible = false;
                EZGUI.components.listWeapon.visible = true;
                EZGUI.components.listTreasure.visible = false;
                EZGUI.components.listPet.visible = false;
                EZGUI.components.listItem.visible = false;
                EZGUI.components.listGem.visible = false;
            });
            EZGUI.components.footerMenuTreasureBtn.on('click', function(){
                EZGUI.components.listQuest.visible = false;
                EZGUI.components.listWeapon.visible = false;
                EZGUI.components.listTreasure.visible = true;
                EZGUI.components.listPet.visible = false;
                EZGUI.components.listItem.visible = false;
                EZGUI.components.listGem.visible = false;
            });
            EZGUI.components.footerMenuPetBtn.on('click', function(){
                EZGUI.components.listQuest.visible = false;
                EZGUI.components.listWeapon.visible = false;
                EZGUI.components.listTreasure.visible = false;
                EZGUI.components.listPet.visible = true;
                EZGUI.components.listItem.visible = false;
                EZGUI.components.listGem.visible = false;
            });
            EZGUI.components.footerMenuItemBtn.on('click', function(){
                EZGUI.components.listQuest.visible = false;
                EZGUI.components.listWeapon.visible = false;
                EZGUI.components.listTreasure.visible = false;
                EZGUI.components.listPet.visible = false;
                EZGUI.components.listItem.visible = true;
                EZGUI.components.listGem.visible = false;
            });
            EZGUI.components.footerMenuGemBtn.on('click', function(){
                EZGUI.components.listQuest.visible = false;
                EZGUI.components.listWeapon.visible = false;
                EZGUI.components.listTreasure.visible = false;
                EZGUI.components.listPet.visible = false;
                EZGUI.components.listItem.visible = false;
                EZGUI.components.listGem.visible = true;
            });

		}
		
		EZGUI.Theme.load(['./assets/metalworks-theme/metalworks-theme.json'], function () {

		    mainUIScreen = EZGUI.create(mainUIScreenJSON, 'metalworks');

            var listsJSON = [
                listQuestJSON,
                listWeaponJSON,
                listTreasureJSON,
                listPetJSON,
                listItemJSON,
                listGemJSON
            ];

            EZGUI.components.listQuest.visible = true;
            EZGUI.components.listWeapon.visible = false;
            EZGUI.components.listTreasure.visible = false;
            EZGUI.components.listPet.visible = false;
            EZGUI.components.listItem.visible = false;
            EZGUI.components.listGem.visible = false;
			
			setupGUI();
		});
        // UI - END
        
		var game = new Phaser.Game(gameWidth, gameHeight, Phaser.AUTO, '', { preload: preload, create: create });

		function preload() {
            game.load.image('gameScreen', './assets/game_img/gamescreen.png');
		}

		function create() {
            game.add.sprite(0, 0, 'gameScreen');
		}        
    </script>

</body>
</html>
